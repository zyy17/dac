# Running Kubelets
| Title | Query | Type | Description | Datasource | Unit | Legend Format |
| --- | --- | --- | --- | --- | --- | --- |
| Running Kubelets | `sum(kubelet_node_name{cluster="$cluster", job="integrations/kubernetes/kubelet"})` | `stat` |  | `prometheus` | `none` | -- |
| Running Pods | `sum(kubelet_running_pods{cluster="$cluster", job="integrations/kubernetes/kubelet", instance=~"$instance"})` | `stat` |  | `prometheus` | `none` | -- |
| Running Containers | `sum(kubelet_running_containers{cluster="$cluster", job="integrations/kubernetes/kubelet", instance=~"$instance"})` | `stat` |  | `prometheus` | `none` | -- |
| Actual Volume Count | `sum(volume_manager_total_volumes{cluster="$cluster", job="integrations/kubernetes/kubelet", instance=~"$instance", state="actual_state_of_world"})` | `stat` |  | `prometheus` | `none` | -- |
| Desired Volume Count | `sum(volume_manager_total_volumes{cluster="$cluster", job="integrations/kubernetes/kubelet", instance=~"$instance",state="desired_state_of_world"})` | `stat` |  | `prometheus` | `none` | -- |
| Config Error Count | `sum(rate(kubelet_node_config_error{cluster="$cluster", job="integrations/kubernetes/kubelet", instance=~"$instance"}[$__rate_interval]))` | `stat` |  | `prometheus` | `none` | -- |
| Operation Rate | `sum(rate(kubelet_runtime_operations_total{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}[$__rate_interval])) by (operation_type, instance)` | `timeseries` |  | `prometheus` | `ops` | `{{instance}} {{operation_type}}` |
| Operation Error Rate | `sum(rate(kubelet_runtime_operations_errors_total{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}[$__rate_interval])) by (instance, operation_type)` | `timeseries` |  | `prometheus` | `ops` | `{{instance}} {{operation_type}}` |
| Operation Duration 99th quantile | `histogram_quantile(0.99, sum(rate(kubelet_runtime_operations_duration_seconds_bucket{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}[$__rate_interval])) by (instance, operation_type, le))` | `timeseries` |  | `prometheus` | `s` | `{{instance}} {{operation_type}}` |
| Pod Start Rate | `sum(rate(kubelet_pod_start_duration_seconds_count{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}[$__rate_interval])) by (instance)`<br/>`sum(rate(kubelet_pod_worker_duration_seconds_count{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}[$__rate_interval])) by (instance)` | `timeseries` |  | `prometheus` | `ops` | `{{instance}} pod` |
| Pod Start Duration | `histogram_quantile(0.99, sum(rate(kubelet_pod_start_duration_seconds_bucket{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}[$__rate_interval])) by (instance, le))`<br/>`histogram_quantile(0.99, sum(rate(kubelet_pod_worker_duration_seconds_bucket{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}[$__rate_interval])) by (instance, le))` | `timeseries` |  | `prometheus` | `s` | `{{instance}} pod` |
| Storage Operation Rate | `sum(rate(storage_operation_duration_seconds_count{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}[$__rate_interval])) by (instance, operation_name, volume_plugin)` | `timeseries` |  | `prometheus` | `ops` | `{{instance}} {{operation_name}} {{volume_plugin}}` |
| Storage Operation Error Rate | `sum(rate(storage_operation_errors_total{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}[$__rate_interval])) by (instance, operation_name, volume_plugin)` | `timeseries` |  | `prometheus` | `ops` | `{{instance}} {{operation_name}} {{volume_plugin}}` |
| Storage Operation Duration 99th quantile | `histogram_quantile(0.99, sum(rate(storage_operation_duration_seconds_bucket{cluster="$cluster", job="integrations/kubernetes/kubelet", instance=~"$instance"}[$__rate_interval])) by (instance, operation_name, volume_plugin, le))` | `timeseries` |  | `prometheus` | `s` | `{{instance}} {{operation_name}} {{volume_plugin}}` |
| Cgroup manager operation rate | `sum(rate(kubelet_cgroup_manager_duration_seconds_count{cluster="$cluster", job="integrations/kubernetes/kubelet", instance=~"$instance"}[$__rate_interval])) by (instance, operation_type)` | `timeseries` |  | `prometheus` | `ops` | `{{operation_type}}` |
| Cgroup manager 99th quantile | `histogram_quantile(0.99, sum(rate(kubelet_cgroup_manager_duration_seconds_bucket{cluster="$cluster", job="integrations/kubernetes/kubelet", instance=~"$instance"}[$__rate_interval])) by (instance, operation_type, le))` | `timeseries` |  | `prometheus` | `s` | `{{instance}} {{operation_type}}` |
| PLEG relist rate | `sum(rate(kubelet_pleg_relist_duration_seconds_count{cluster="$cluster", job="integrations/kubernetes/kubelet", instance=~"$instance"}[$__rate_interval])) by (instance)` | `timeseries` |  | `prometheus` | `ops` | `{{instance}}` |
| PLEG relist interval | `histogram_quantile(0.99, sum(rate(kubelet_pleg_relist_interval_seconds_bucket{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}[$__rate_interval])) by (instance, le))` | `timeseries` |  | `prometheus` | `s` | `{{instance}}` |
| PLEG relist duration | `histogram_quantile(0.99, sum(rate(kubelet_pleg_relist_duration_seconds_bucket{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}[$__rate_interval])) by (instance, le))` | `timeseries` |  | `prometheus` | `s` | `{{instance}}` |
| RPC rate | `sum(rate(rest_client_requests_total{cluster="$cluster",job="integrations/kubernetes/kubelet", instance=~"$instance",code=~"2.."}[$__rate_interval]))`<br/>`sum(rate(rest_client_requests_total{cluster="$cluster",job="integrations/kubernetes/kubelet", instance=~"$instance",code=~"3.."}[$__rate_interval]))`<br/>`sum(rate(rest_client_requests_total{cluster="$cluster",job="integrations/kubernetes/kubelet", instance=~"$instance",code=~"4.."}[$__rate_interval]))`<br/>`sum(rate(rest_client_requests_total{cluster="$cluster",job="integrations/kubernetes/kubelet", instance=~"$instance",code=~"5.."}[$__rate_interval]))` | `timeseries` |  | `prometheus` | `ops` | `2xx` |
| Request duration 99th quantile | `histogram_quantile(0.99, sum(rate(rest_client_request_duration_seconds_bucket{cluster="$cluster",job="integrations/kubernetes/kubelet", instance=~"$instance"}[$__rate_interval])) by (instance, verb, url, le))` | `timeseries` |  | `prometheus` | `s` | `{{instance}} {{verb}} {{url}}` |
| Memory | `process_resident_memory_bytes{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}` | `timeseries` |  | `prometheus` | `bytes` | `{{instance}}` |
| CPU usage | `rate(process_cpu_seconds_total{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}[$__rate_interval])` | `timeseries` |  | `prometheus` | `short` | `{{instance}}` |
| Goroutines | `go_goroutines{cluster="$cluster",job="integrations/kubernetes/kubelet",instance=~"$instance"}` | `timeseries` |  | `prometheus` | `short` | `{{instance}}` |
